"use strict";(self.webpackChunkastria_docs_2=self.webpackChunkastria_docs_2||[]).push([[7757],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>g});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},u="mdxType",f={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),u=p(n),d=i,g=u["".concat(s,".").concat(d)]||u[d]||f[d]||r;return n?a.createElement(g,l(l({ref:t},c),{},{components:n})):a.createElement(g,l({ref:t},c))}));function g(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,l=new Array(r);l[0]=d;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[u]="string"==typeof e?e:i,l[1]=o;for(var p=2;p<r;p++)l[p]=n[p];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},5764:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>f,frontMatter:()=>r,metadata:()=>o,toc:()=>p});var a=n(7462),i=(n(7294),n(3905));const r={},l="Face Inpainting",o={unversionedId:"features/face-inpainting",id:"features/face-inpainting",title:"Face Inpainting",description:"Overview",source:"@site/docs/features/face-inpainting.md",sourceDirName:"features",slug:"/features/face-inpainting",permalink:"/docs/features/face-inpainting",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Backend V1",permalink:"/docs/features/backend-v1"},next:{title:"Face Swap",permalink:"/docs/features/face-swap"}},s={},p=[{value:"Overview",id:"overview",level:2},{value:"Enabling Face Inpainting",id:"enabling-face-inpainting",level:2},{value:"Playground",id:"playground",level:3},{value:"API",id:"api",level:3},{value:"Example Request",id:"example-request",level:4},{value:"Notes",id:"notes",level:2}],c={toc:p},u="wrapper";function f(e){let{components:t,...r}=e;return(0,i.kt)(u,(0,a.Z)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"face-inpainting"},"Face Inpainting"),(0,i.kt)("h2",{id:"overview"},"Overview"),(0,i.kt)("p",null,"Face inpainting is a feature that maintains facial similarity mainly in long-shot and full-body generations by performing additional facial enhancement. When enabled, it automatically improves facial consistency regardless of the shot distance."),(0,i.kt)("div",{style:{display:"grid","grid-template-columns":"1fr",gap:"1.5rem"}},(0,i.kt)("div",null,(0,i.kt)("figcaption",null,"Face Inpainting with Flux"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"source.png",src:n(2775).Z,width:"1600",height:"900"})))),(0,i.kt)("div",{style:{display:"grid","grid-template-columns":"1fr 1fr",gap:"1.5rem"}},(0,i.kt)("div",null,(0,i.kt)("figcaption",null,"Zoom on face - Before"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"source.png",src:n(6956).Z,width:"800",height:"1248"}))),(0,i.kt)("div",null,(0,i.kt)("figcaption",null,"Zoom on face - After"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"source.png",src:n(8285).Z,width:"800",height:"1248"})))),(0,i.kt)("div",{style:{display:"grid","grid-template-columns":"1fr 1fr",gap:"1.5rem"}},(0,i.kt)("div",null,(0,i.kt)("figcaption",null,"Full body longshot - before face inpainting"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"source.png",src:n(938).Z,width:"1792",height:"2304"}))),(0,i.kt)("div",null,(0,i.kt)("figcaption",null,"Full body longshot - after face inpainting"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"source.png",src:n(6656).Z,width:"1792",height:"2304"})))),(0,i.kt)("p",null,"See examples in our ",(0,i.kt)("a",{parentName:"p",href:"https://www.astria.ai/gallery?inpaint_faces=true"},"gallery")),(0,i.kt)("h2",{id:"enabling-face-inpainting"},"Enabling Face Inpainting"),(0,i.kt)("h3",{id:"playground"},"Playground"),(0,i.kt)("p",null," To enable face inpainting, open the \u2018Advanced\u2019 settings when generating an image, and click the Inpaint faces toggle. Notice that this will turn on the super resolution toggle as well, which is necessary for this feature."),(0,i.kt)("h3",{id:"api"},"API"),(0,i.kt)("p",null,"Use ",(0,i.kt)("inlineCode",{parentName:"p"},"inpaint_faces")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"super_resolution")," in your prompt request."),(0,i.kt)("h4",{id:"example-request"},"Example Request"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'POST https://api.astria.ai/generate\n\n{\n  "prompt": "<lora:1795721:1.0> Surrounded by the natural beauty of a serene, wooded environment, the ohwx woman exudes a sense of tranquility and connection with her surroundings. She wears a flowing, organic-inspired dress in earthy tones, her face framed by loose, windblown hair. The lighting is soft and diffused, creating a soothing, meditative atmosphere that invites the viewer to pause and connect with the moment.",\n  "num_images": 1,\n  "super_resolution": true,\n  "inpaint_faces": true,\n  "w": 896,\n  "h": 1152,\n  "scheduler": "euler_a",\n  "ar": "1:1"\n}\n')),(0,i.kt)("h2",{id:"notes"},"Notes"),(0,i.kt)("p",null,"When face inpainting is enabled the following occurs:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"An additional inference cycle"),(0,i.kt)("li",{parentName:"ul"},"This affects the total cost per generation - see our ",(0,i.kt)("a",{parentName:"li",href:"https://www.astria.ai/pricing"},"pricing page")," for details"),(0,i.kt)("li",{parentName:"ul"},"Generation time will be a bit longer")),(0,i.kt)("p",null,"Face inpainting Works with all Flux-based models, as well as SDXL and SD15"))}f.isMDXComponent=!0},2775:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/face_inpainting_w_flux-e687f3cc9742f3097b00c99497f8fe41.png"},6656:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/flux-face-inpainting-after-2e1ded443aa5056439ec23b130553389.jpg"},938:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/flux-face-inpainting-before-f7f98f5297d4ab8597fe2f16e2de2e8f.jpg"},8285:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/flux-face-inpainting-cropped-after-fe29b78ca5cbbb5400f999a4d9b8d136.jpg"},6956:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/flux-face-inpainting-cropped-before-77a3f6b092bda64b02b1102c8e151621.jpg"}}]);