"use strict";(self.webpackChunkastria_docs_2=self.webpackChunkastria_docs_2||[]).push([[1239],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>h});var r=a(7294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var l=r.createContext({}),u=function(e){var t=r.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},p=function(e){var t=u(e.components);return r.createElement(l.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),c=u(a),m=n,h=c["".concat(l,".").concat(m)]||c[m]||d[m]||o;return a?r.createElement(h,i(i({ref:t},p),{},{components:a})):r.createElement(h,i({ref:t},p))}));function h(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,i=new Array(o);i[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[c]="string"==typeof e?e:n,i[1]=s;for(var u=2;u<o;u++)i[u]=a[u];return r.createElement.apply(null,i)}return r.createElement.apply(null,a)}m.displayName="MDXCreateElement"},5162:(e,t,a)=>{a.d(t,{Z:()=>i});var r=a(7294),n=a(6010);const o={tabItem:"tabItem_Ymn6"};function i(e){let{children:t,hidden:a,className:i}=e;return r.createElement("div",{role:"tabpanel",className:(0,n.Z)(o.tabItem,i),hidden:a},t)}},4866:(e,t,a)=>{a.d(t,{Z:()=>_});var r=a(7462),n=a(7294),o=a(6010),i=a(2466),s=a(6550),l=a(1980),u=a(7392),p=a(12);function c(e){return function(e){return n.Children.map(e,(e=>{if(!e||(0,n.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}(e).map((e=>{let{props:{value:t,label:a,attributes:r,default:n}}=e;return{value:t,label:a,attributes:r,default:n}}))}function d(e){const{values:t,children:a}=e;return(0,n.useMemo)((()=>{const e=t??c(a);return function(e){const t=(0,u.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,a])}function m(e){let{value:t,tabValues:a}=e;return a.some((e=>e.value===t))}function h(e){let{queryString:t=!1,groupId:a}=e;const r=(0,s.k6)(),o=function(e){let{queryString:t=!1,groupId:a}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!a)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return a??null}({queryString:t,groupId:a});return[(0,l._X)(o),(0,n.useCallback)((e=>{if(!o)return;const t=new URLSearchParams(r.location.search);t.set(o,e),r.replace({...r.location,search:t.toString()})}),[o,r])]}function f(e){const{defaultValue:t,queryString:a=!1,groupId:r}=e,o=d(e),[i,s]=(0,n.useState)((()=>function(e){let{defaultValue:t,tabValues:a}=e;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!m({value:t,tabValues:a}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${a.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const r=a.find((e=>e.default))??a[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:t,tabValues:o}))),[l,u]=h({queryString:a,groupId:r}),[c,f]=function(e){let{groupId:t}=e;const a=function(e){return e?`docusaurus.tab.${e}`:null}(t),[r,o]=(0,p.Nk)(a);return[r,(0,n.useCallback)((e=>{a&&o.set(e)}),[a,o])]}({groupId:r}),b=(()=>{const e=l??c;return m({value:e,tabValues:o})?e:null})();(0,n.useLayoutEffect)((()=>{b&&s(b)}),[b]);return{selectedValue:i,selectValue:(0,n.useCallback)((e=>{if(!m({value:e,tabValues:o}))throw new Error(`Can't select invalid tab value=${e}`);s(e),u(e),f(e)}),[u,f,o]),tabValues:o}}var b=a(2389);const g={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function v(e){let{className:t,block:a,selectedValue:s,selectValue:l,tabValues:u}=e;const p=[],{blockElementScrollPositionUntilNextRender:c}=(0,i.o5)(),d=e=>{const t=e.currentTarget,a=p.indexOf(t),r=u[a].value;r!==s&&(c(t),l(r))},m=e=>{let t=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const a=p.indexOf(e.currentTarget)+1;t=p[a]??p[0];break}case"ArrowLeft":{const a=p.indexOf(e.currentTarget)-1;t=p[a]??p[p.length-1];break}}t?.focus()};return n.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":a},t)},u.map((e=>{let{value:t,label:a,attributes:i}=e;return n.createElement("li",(0,r.Z)({role:"tab",tabIndex:s===t?0:-1,"aria-selected":s===t,key:t,ref:e=>p.push(e),onKeyDown:m,onClick:d},i,{className:(0,o.Z)("tabs__item",g.tabItem,i?.className,{"tabs__item--active":s===t})}),a??t)})))}function y(e){let{lazy:t,children:a,selectedValue:r}=e;const o=(Array.isArray(a)?a:[a]).filter(Boolean);if(t){const e=o.find((e=>e.props.value===r));return e?(0,n.cloneElement)(e,{className:"margin-top--md"}):null}return n.createElement("div",{className:"margin-top--md"},o.map(((e,t)=>(0,n.cloneElement)(e,{key:t,hidden:e.props.value!==r}))))}function k(e){const t=f(e);return n.createElement("div",{className:(0,o.Z)("tabs-container",g.tabList)},n.createElement(v,(0,r.Z)({},e,t)),n.createElement(y,(0,r.Z)({},e,t)))}function _(e){const t=(0,b.Z)();return n.createElement(k,(0,r.Z)({key:String(t)},e))}},5251:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>l,default:()=>h,frontMatter:()=>s,metadata:()=>u,toc:()=>c});var r=a(7462),n=(a(7294),a(3905)),o=a(4866),i=a(5162);const s={title:"Duplicate a prompt",hide_table_of_contents:!0},l=void 0,u={unversionedId:"api/prompt/duplicate",id:"api/prompt/duplicate",title:"Duplicate a prompt",description:"Duplicates a prompt, and allows overriding any of its attributes.",source:"@site/docs/api/1-prompt/3-duplicate.md",sourceDirName:"api/1-prompt",slug:"/api/prompt/duplicate",permalink:"/docs/api/prompt/duplicate",draft:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{title:"Duplicate a prompt",hide_table_of_contents:!0},sidebar:"tutorialSidebar",previous:{title:"Retrieve a prompt",permalink:"/docs/api/prompt/retrieve"},next:{title:"List all prompts",permalink:"/docs/api/prompt/list"}},p={},c=[{value:"Parameters",id:"parameters",level:3},{value:"<code>image_index</code> (required)",id:"image_index-required",level:4},{value:"Returns",id:"returns",level:3},{value:"POST /prompts/:id/duplicate",id:"post-promptsidduplicate",level:4},{value:"Response",id:"response",level:4},{value:"Video Generation from an existing prompt image",id:"video-generation-from-an-existing-prompt-image",level:3}],d={toc:c},m="wrapper";function h(e){let{components:t,...a}=e;return(0,n.kt)(m,(0,r.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("div",{className:"api-method"},(0,n.kt)("div",null,(0,n.kt)("p",null,"Duplicates a prompt, and allows overriding any of its attributes."),(0,n.kt)("p",null,"Any of the parameters available in the ",(0,n.kt)("a",{parentName:"p",href:"/docs/api/prompt/create"},"Create a prompt")," endpoint can be used here to override the original prompt's attributes."),(0,n.kt)("p",null,"For example, to use a different seed for a new prompt, you can use the ",(0,n.kt)("inlineCode",{parentName:"p"},"seed")," attribute."),(0,n.kt)("h3",{id:"parameters"},"Parameters"),(0,n.kt)("h4",{id:"image_index-required"},(0,n.kt)("inlineCode",{parentName:"h4"},"image_index")," (required)"),(0,n.kt)("p",null,"Unique additional parameter that can be used to bypass the initial creation of the image and re-use the existing image from the original prompt this saving cost and time of the base image creation. This is mostly useful for video2image generation where the first image is used as a base for the video generation. Note that this parameter is provided at the top level and not inside the prompt object."),(0,n.kt)("h3",{id:"returns"},"Returns"),(0,n.kt)("p",null,"Returns a new prompt object if successful.")),(0,n.kt)("div",null,(0,n.kt)("h4",{id:"post-promptsidduplicate"},"POST /prompts/:id/duplicate"),(0,n.kt)(o.Z,{groupId:"lang",mdxType:"Tabs"},(0,n.kt)(i.Z,{value:"curl",label:"cURL",default:!0,mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash",metastring:"showLineNumbers",showLineNumbers:!0},'curl -X POST -H "Authorization: Bearer $API_KEY" https://api.astria.ai/prompts/1/duplicate \\\n          -F prompt[seed]=12345\n'))),(0,n.kt)(i.Z,{value:"javascript",label:"Node.js",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-javascript"},"const fetch = require(`node-fetch`);\nconst FormData = require('form-data');\n\nconst API_URL = 'https://api.astria.ai/prompts/1/duplicate';\nconst API_KEY = 'YOUR_API_KEY'; // Replace with your actual API key\nconst headers = { Authorization: `Bearer ${API_KEY}` }\n\nconst form = new FormData();\nform.append('prompt[seed]', 12345);\n\nfetch(API_URL, {\n  method: 'POST',\n  headers: headers,\n  body: form\n}).then(response => response.json())\n\n\n"))),(0,n.kt)(i.Z,{value:"python",label:"Python",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-python"},"import requests\n\nAPI_URL = 'https://api.astria.ai/prompts/1/duplicate'\nAPI_KEY = 'YOUR_API_KEY'  # Replace with your actual API key\n\nheaders = {\n    'Authorization': f'Bearer {API_KEY}'\n}\n\ndata = {\n  'prompt[seed]': 12345\n}\n\nresponse = requests.post(API_URL, headers=headers, data=data)\n")))),(0,n.kt)("h4",{id:"response"},"Response"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "id": 2,\n  "callback": "https://optional-callback-url.com/to-your-service-when-ready?prompt_id=1",\n  "text": "a painting of ohwx man in the style of Van Gogh",\n  "negative_prompt": "old, blemish, wrinkles, mole",\n  "cfg_scale": null,\n  "steps": null,\n  "seed": 12345,\n  "trained_at": null,\n  "started_training_at": null,\n  "created_at": "2022-10-06T16:15:22.505Z",\n  "updated_at": "2022-10-06T16:15:22.505Z",\n  "tune_id": 1,\n  "url": "http://api.astria.ai/tunes/1/prompts/2.json"\n}\n')),(0,n.kt)("h3",{id:"video-generation-from-an-existing-prompt-image"},"Video Generation from an existing prompt image"),(0,n.kt)(o.Z,{groupId:"lang",mdxType:"Tabs"},(0,n.kt)(i.Z,{value:"curl",label:"cURL",default:!0,mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-bash",metastring:"showLineNumbers",showLineNumbers:!0},'curl -X POST -H "Authorization: Bearer $API_KEY" https://api.astria.ai/prompts/1/duplicate \\\n          -F image_index=0 \\\n          -F prompt[text]="a painting of ohwx man in the style of Van Gogh --video --video_prompt \\"smiling, put their hands on hips\\""\n'))),(0,n.kt)(i.Z,{value:"javascript",label:"Node.js",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-javascript"},"const fetch = require(`node-fetch`);\nconst FormData = require('form-data');\n\nconst API_URL = 'https://api.astria.ai/prompts/1/duplicate';\nconst API_KEY = 'YOUR_API_KEY'; // Replace with your actual API key\nconst headers = { Authorization: `Bearer ${API_KEY}` }\n\nconst form = new FormData();\nform.append('image_index', 0);\nform.append('prompt[text]', 'a painting of ohwx man in the style of Van Gogh --video --video_prompt \"smiling, put their hands on hips\"');\n\n\nfetch(API_URL, {\n  method: 'POST',\n  headers: headers,\n  body: form\n}).then(response => response.json())\n\n\n"))),(0,n.kt)(i.Z,{value:"python",label:"Python",mdxType:"TabItem"},(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-python"},"import requests\n\nAPI_URL = 'https://api.astria.ai/prompts/1/duplicate'\nAPI_KEY = 'YOUR_API_KEY'  # Replace with your actual API key\n\nheaders = {\n    'Authorization': f'Bearer {API_KEY}'\n}\n\ndata = {\n  'image_index': 0,\n  'prompt[text]': 'a painting of ohwx man in the style of Van Gogh --video --video_prompt \"smiling, put their hands on hips\"'\n}\n\nresponse = requests.post(API_URL, headers=headers, data=data)\n")))))))}h.isMDXComponent=!0}}]);