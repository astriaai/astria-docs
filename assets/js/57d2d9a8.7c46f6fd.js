"use strict";(self.webpackChunkastria_docs_2=self.webpackChunkastria_docs_2||[]).push([[3911],{3905:(e,t,a)=>{a.d(t,{Zo:()=>m,kt:()=>k});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var p=n.createContext({}),l=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},m=function(e){var t=l(e.components);return n.createElement(p.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,s=e.originalType,p=e.parentName,m=i(e,["components","mdxType","originalType","parentName"]),c=l(a),u=r,k=c["".concat(p,".").concat(u)]||c[u]||d[u]||s;return a?n.createElement(k,o(o({ref:t},m),{},{components:a})):n.createElement(k,o({ref:t},m))}));function k(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var s=a.length,o=new Array(s);o[0]=u;var i={};for(var p in t)hasOwnProperty.call(t,p)&&(i[p]=t[p]);i.originalType=e,i[c]="string"==typeof e?e:r,o[1]=i;for(var l=2;l<s;l++)o[l]=a[l];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},1313:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>d,frontMatter:()=>s,metadata:()=>i,toc:()=>l});var n=a(7462),r=(a(7294),a(3905));const s={},o="Prompt Masking",i={unversionedId:"features/prompt-masking",id:"features/prompt-masking",title:"Prompt Masking",description:"Prompt masking uses a short text to create a mask from the input image. The mask can then be used to inpaint parts of the image. Use the below parameters as part of the prompts to use auto-masking",source:"@site/docs/features/prompt-masking.md",sourceDirName:"features",slug:"/features/prompt-masking",permalink:"/docs/features/prompt-masking",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/features/prompt-masking.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Multi-Person",permalink:"/docs/features/multiperson"},next:{title:"Tiled upscale",permalink:"/docs/features/tiled-upscale"}},p={},l=[{value:"Syntax",id:"syntax",level:3},{value:"<code>--mask_prompt</code>",id:"--mask_prompt",level:4},{value:"<code>--mask_negative</code>",id:"--mask_negative",level:4},{value:"<code>--mask_invert</code>",id:"--mask_invert",level:4},{value:"<code>--mask_dilate</code>",id:"--mask_dilate",level:4},{value:"<code>--hires_denoising_strength</code>",id:"--hires_denoising_strength",level:4}],m={toc:l},c="wrapper";function d(e){let{components:t,...a}=e;return(0,r.kt)(c,(0,n.Z)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"prompt-masking"},"Prompt Masking"),(0,r.kt)("p",null,"Prompt masking uses a short text to create a mask from the input image. The mask can then be used to inpaint parts of the image. Use the below parameters as part of the prompts to use auto-masking"),(0,r.kt)("p",null,"Prompt masking can be used for ",(0,r.kt)("a",{parentName:"p",href:"/docs/use-cases/product-shots"},"product shots")," or ",(0,r.kt)("a",{parentName:"p",href:"/docs/use-cases/masked-portraits"},"Masked Portraits"),"."),(0,r.kt)("p",null,"See example prompts in the ",(0,r.kt)("a",{parentName:"p",href:"https://www.astria.ai/gallery?text=mask_prompt"},"gallery")),(0,r.kt)("admonition",{type:"warning"},(0,r.kt)("p",{parentName:"admonition"},"SDXL inpainting results are poor, and so we recommend using SD15 models for this use case.")),(0,r.kt)("h3",{id:"syntax"},"Syntax"),(0,r.kt)("p",null,"Below parameters should be used as text inside the prompt text"),(0,r.kt)("h4",{id:"--mask_prompt"},(0,r.kt)("inlineCode",{parentName:"h4"},"--mask_prompt")),(0,r.kt)("p",null,"A short text like ",(0,r.kt)("inlineCode",{parentName:"p"},"foreground")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"face"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"head")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"person"),"."),(0,r.kt)("h4",{id:"--mask_negative"},(0,r.kt)("inlineCode",{parentName:"h4"},"--mask_negative")),(0,r.kt)("p",null,"A space separated list of words that should not appear in the mask. e.g: ",(0,r.kt)("inlineCode",{parentName:"p"},"clothes hat shoes")),(0,r.kt)("h4",{id:"--mask_invert"},(0,r.kt)("inlineCode",{parentName:"h4"},"--mask_invert")),(0,r.kt)("p",null,"Inverts the mask"),(0,r.kt)("h4",{id:"--mask_dilate"},(0,r.kt)("inlineCode",{parentName:"h4"},"--mask_dilate")),(0,r.kt)("p",null,"Dilates the mask. Negative values will erode the mask. Use percentage values like ",(0,r.kt)("inlineCode",{parentName:"p"},"-20%")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"-20")," if input image size is dynamic."),(0,r.kt)("h4",{id:"--hires_denoising_strength"},(0,r.kt)("inlineCode",{parentName:"h4"},"--hires_denoising_strength")),(0,r.kt)("p",null,"Denoising strength for hires-fix. Use hi-res fix with prompt-masking to smooth the colors and blending. Range 0-1. Default: 0.4."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"realistic digital painting, astronaut in a garden on a spring day, by martine johanna and simon stalenhag and chie yoshii and casey weldon and wlop, ornate, dynamic, particulate, rich colors, intricate, elegant, highly detailed, harpers bazaar art, fashion magazine, smooth, sharp focus, 8 k, octane rende --mask_prompt foreground --mask_negative clothes --mask_invert --mask_dilate -20 --hires_denoising_strength 0.1\nnum_images=1\nnegative_prompt=clay, text, watermark, padding, cropped, typography\nseed=\nsteps=30\ncfg_scale=\ncontrolnet=pose\ninput_image_url=https://sdbooth2-production.s3.amazonaws.com/esfd53purhhcijhmzka4c364x6lb\nmask_image_url=\ndenoising_strength=\ncontrolnet_conditioning_scale=\ncontrolnet_txt2img=false\nsuper_resolution=true\ninpaint_faces=false\nface_correct=true\nfilm_grain=false\nface_swap=false\nhires_fix=true\nar=1:1\nscheduler=dpm++sde_karras\ncolor_grading=\nuse_lpw=true\nw=\nh=\n")))}d.isMDXComponent=!0}}]);